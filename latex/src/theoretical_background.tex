\section{Generic Lattices}

\begin{definition}[Lattice]
Let $\{b_1,\ldots,b_n\}$ be a set of linearly independent vectors in $\mathbb{R}^m$, with $m\geq n$. The lattice generated by $\{b_1,\ldots,b_n\}$ is defined as the set of integer linear combinations of the $b_i$
\begin{equation*}
\mathscr{L}=\left\{\sum_{i=1}^{n}l_ib_i | l_i\in\mathbb{Z}\right\}
\end{equation*}
The set $B=\{b_1,\ldots,b_n\}$ is called a basis of the lattice, $n$ is called lattice rank, and $m$ lattice dimension. If $m=n$, the lattice is said to be a full rank lattice.
\end{definition}

\begin{definition}[Span of a Lattice]
Let $\mathscr{L}$ be a lattice and $B$ a basis for $\mathscr{L}$. The span of the lattice is defined as the linear space spanned by its vectors:
\begin{equation*}
span(\mathscr{L}) = span(B) = \{B\mathbf{x}|\mathbf{x}\in\mathbb{R}^n\}
\end{equation*} 
\end{definition}

\begin{remark}
It is immediate that given two lattices $\mathscr{L}$, $\mathscr{L}'$, then $\mathscr{L}\subset \mathscr{L}' \Rightarrow span(\mathscr{L}) \subset span(\mathscr{L}')$.
\end{remark}

It is worth to introduce an alternative notation for lattices. Let's consider the matrix $B$, with columns $b_1,\ldots,b_n$. It is easy to see that the lattice generated by $b_1,\ldots,b_n$ is the set $\mathscr{L}=\{B\mathbf{v}|\mathbf{v}\in\mathbb{Z}^n\}$.\\
Moreover, all of the lattices intersting for lattice based cryptography are full rank lattices, so from now on whenever a lattice is mentioned, it will be assumed to be full rank, i.e. $\mathscr{L}\subset\mathbb{R}^n$.\\
Let's introduce some useful notions on lattices.

\begin{definition}[Minimum distance]
The minimum distance of a lattice $\mathscr{L}$ is defined as the minimum distance between any two lattice points
\begin{equation*}
\lambda = min\{\norm{\mathbf{x}-\mathbf{y}}|\mathbf{x}\ne \mathbf{y}, \mathbf{x},\mathbf{y}\in\mathscr{L}\}
\end{equation*}
Since a lattice is an addictive subgroup of $\mathbb{R}^n$, the above definition is equivalent to
\begin{equation*}
min\{\norm{\mathbf{x}}|\mathbf{x}\ne0, \mathbf{x}\in\mathscr{L}\}
\end{equation*}
\end{definition}

The previous definition can be generalized to a set of linearly independent vectors as follows
\begin{definition}[i-th Successive Minimum]
The i-th successive minimum of a lattice is defined as 
\begin{equation*}
\lambda_i = min\{r \in \mathbb{R}|\exists \{\mathbf{v_i}\}_{i=1}^n \subset \mathscr{L},\text{ }linearly\text{ }independent,\text{ }s.t.\text{ }\norm{\mathbf{v_i}}\leq r\}
\end{equation*}
\end{definition}

\begin{remark}
It is immediate to see that $\lambda=\lambda_1$
\end{remark}

\begin{definition}[Dual Lattice]
The dual lattice $\mathscr{L}^*$ of a lattice $\mathscr{L}$ is defined as the set
\begin{equation*}
\mathscr{L}^*=\{\mathbf{w}\in\mathbb{R}^n|\forall\mathbf{x}\in\mathscr{L}\langle\mathbf{w},\mathbf{x}\rangle\in\mathbb{Z}\}
\end{equation*}
\end{definition} 

\begin{theorem}
Let $\mathscr{L}$ be a lattice, and $B$ its basis, then the matrix $D=B(B^{\top}B)^{-1}$ is a basis for $\mathscr{L}^*$
\end{theorem}
\begin{proof}
%TODO don't really like the provided proof
\end{proof}

\begin{definition}[Fundamental Parallelepiped]
Given a lattice $\mathscr{L}$, and $B$ a basis for $\mathscr{L}$, the fundamental parallelepiped of $\mathscr{L}$ is defined as the set
\begin{equation*}
\mathscr{P} = \{B\mathbf{x}|\mathbf{x}\in\mathbb{R}^n, \forall i \in \{1,\ldots,n\}:0\leq x_i \leq 1 \}
\end{equation*}
\end{definition}

\begin{remark}
The fundamental parallelepiped is a really useful concept in lattices. Indeed, it is easy to see that placing a fundamental parallelepiped at every vector of the lattice $\mathscr{L}$, it is possible to tesselate the entirety of $span(\mathscr{L})$.
\end{remark}

\begin{definition}[Voronoi Cell]
Given a lattice $\mathscr{L}$, and $B$ a basis for $\mathscr{L}$, the Voronoi cell of $\mathscr{L}$, with center in $\mathbf{y}\in\mathscr{L}$ is defined as the set
\begin{equation*}
\mathscr{V}_\mathbf{y} = \{\mathbf{x}\in\mathbb{R}^n|\forall \mathbf{y}' \in \mathscr{L}\backslash\mathbf{y}, \norm{\mathbf{x}-\mathbf{y}} < \norm{\mathbf{x}-\mathbf{y}'} \}
\end{equation*}
The fundamental Voronoi cell is defined as $\mathscr{V}_0$. 
\end{definition}

\begin{remark}
The geometry of the Voronoi cell depends on the metric used over $\mathbb{R}^n$. For the purpose of lattice based cryptography, this metric will always be the euclidean distance. So, from now on, any time a Voronoi cell is mentioned, it will be intended as the Voronoi cell computed using the euclidean distance.
\end{remark}

The concept of Voronoi cell is especially important for lattice based cryptography. The nature of this importance will be discussed in more detail later.\\
All of these definitions apply to generic lattices, but there are two subclasses of lattices that are of particular interest for lattice based cryptography: $q$-ary lattices and ideal lattices. While the formers can be quickly introduced, the latters require a section of their own.

\begin{definition}
Let $\mathscr{L}\subset\mathbb{Z}^n$ be a lattice. $\mathscr{L}$ is said $q$-ary for some $q\in\mathbb{Z}^n$, if $q\mathbb{Z}\subset\mathscr{L}$.
\end{definition} 

\begin{remark}
If $\mathscr{L}$ is a $q$-ary lattices, and $\mathbf{x}\in\mathscr{L}$ a vector, then $x+q\mathbb{Z}^n\in\mathscr{L}$, since $q\mathbb{Z}\subset\mathscr{L}$ and $\mathscr{L}$ is an additive group, but this means that $\forall\mathbf{x}\in\mathbb{Z}^n, \mathbf{x}\in\mathscr{L}\Leftrightarrow\mathbf{x}$ $mod$ $q\in\mathscr{L}$
\end{remark}

\section{Ideal Lattices}

\subsection{Hard problems in lattices}
In this section are introduced the hard problems behind the security of lattic based cryptography primitives. None of the additional structure of ideal lattices is used in the definition of this problems, making these definitions valid both for generic and ideal lattices.

\subsubsection{SVP}

The main formulation for the SVP is the search problem defined as follows.

\begin{definition}[Search Shortest Vector Problem (SVP)]
Let $\mathscr{L}$ be a lattice, and $B$ a basis for $\mathscr{L}$, the SVP consists in finding $\mathbf{v}\in\mathscr{L}$ $s.t.$ $\norm{\mathbf{v}} = \lambda$, where $\lambda$ is the minimum distance of the lattice $\mathscr{L}$.
\end{definition}

It is also possible to give a decisional formulation, defined as follows.

\begin{definition}[Decisional SVP]
Let $\mathscr{L}$ be a lattice, and $B$ a basis for $\mathscr{L}$, given $\mathbf{v}\in\mathscr{L}$, determine if $\norm{\mathbf{v}} = \lambda$.
\end{definition}

The SVP problem can also be generalized as follows.

\begin{definition}[Shortest Independent Vectors Problem (SIVP)]
Let $\mathscr{L}$ be a lattice, and $B$ a basis for $\mathscr{L}$, find a set $S={s_i}_{i=1}{n}\subset \mathscr{L}$ of linearly independent vectors $s.t$ $\forall i$ $\norm{\mathbf{s_i}} = \lambda_i$, where $\lambda_i$ is i-th successive minimum of the lattice $\mathscr{L}$.
\end{definition}

Moreover, it is worth introducing the approximate problems $SVP_\gamma$, $SIVP_\gamma$ and $GapSVP_\gamma$, which are often more useful in security reductions than the exact counterpart.

\begin{definition}[Approximate SVP]
Let $\mathscr{L}$ be a lattice, $B$ a basis for $\mathscr{L}$, and $\gamma(n)\geq1$ the approximation factor, find a $\mathbf{v}\in\mathscr{L}\backslash0$ $s.t.$ $\norm{\mathbf{v}} \leq \gamma(n)\lambda$.
\end{definition}

\begin{definition}[\text{Approximate SIVP (SIVP$_\gamma$)}]
Let $\mathscr{L}$ be a lattice, $B$ a basis for $\mathscr{L}$, and $\gamma(n)\geq1$ the approximation factor, find a set $S={s_i}_{i=1}{n}\subset \mathscr{L}$ of linearly independent vectors $s.t$ $\forall i$ $\norm{\mathbf{s_i}} \leq \gamma(n)\lambda_i$.
\end{definition}

\begin{definition}[\text{Approximate Decisional SVP (GapSVP$_\gamma$)}]
Let $\mathscr{L}$ be a lattice, $B$ a basis for $\mathscr{L}$, and $\gamma(n)\geq1$ the approximation factor, tell which holds between $\lambda\leq1$ or $\lambda > \gamma(n)$.
\end{definition}
\begin{remark}
An algorithm to solve the GapSVP$_\gamma$ is allowed to error if neither of the options are true.
\end{remark}

\subsubsection{CVP}
The CVP problem family is closely related to the SVP. Indeed, it can be seen as a generalization of it.

\begin{definition}[Search CVP]
Let $\mathscr{L}$ be a lattice, $B$ a basis for $\mathscr{L}$, and a vector $\mathbf{v}\in\mathscr{\mathbb{R}^n}$, find the vector $\mathbf{w}\in\mathscr{L}$ $s.t.$ $\forall\mathbf{y}\in\mathscr{L},\norm{\mathbf{v}-\mathbf{w}} < \norm{\mathbf{v}-\mathbf{y}}$.
\end{definition}

Similarly to the SVP, there are alternative formulations, such as the Decisional and Approximate SVP. All of them can be derived as they were in the SVP setting.

\subsubsection{BDD}

\begin{definition}[\text{Bounded Distance Decoding ($\alpha$-BDD)}]
Let $\mathscr{L}$ be a lattice, $B$ a basis for $\mathscr{L}$, $\alpha\in[0,1]$, and $\mathbf{t}\in\mathbb{R}^n$. Assuming that $\exists \mathbf{y}\in\mathscr{L},\norm{\mathbf{t}-\mathbf{y}} < \alpha\lambda$, find the unique lattice vector $\mathbf{v}\in\mathscr{L}$ $s.t.$ $\norm{\mathbf{t}-\mathbf{v}}<\alpha\lambda$.
\end{definition}

\begin{remark}
An algorithm to solve the $\alpha$-BDD is allowed to error if the bound on the distance is not satisfied.
\end{remark}

\section{Noise Distributions}
Lattice based cryptogaphy schemes heavily rely on short random vector, typically sampled from a Discrete Gaussian distribution, used to perturbate lattice elements. This section introduces a few relevant concepts on this topic.\\

\begin{definition}[Discrete Gaussian Distribution]

\end{definition}

\section{NTT}

\section{The LWE problem}
The Learning With Error problem is defined over lattices in $\mathbb{Z}_q^n$. 

\begin{definition}[Search LWE]
Let $\mathscr{L}$ be a lattice, $B$ a basis for $\mathscr{L}$, $\chi[\mathbb{Z}_q^n]$ a Discrete Gaussian Distribution, and $\mathbf{s}\in\mathbb{Z}_q^n$. Given the noisy product $\mathbb{v}=As^t + e^t$, where $e\xleftarrow{\$}\chi[\mathbb{Z}_q^n]$, find $\mathbf{s}$.
\end{definition}

\begin{remark}
The Discrete Gaussian Distribution is chosen to have width greater than $\sqrt{n}$.
\end{remark}

\begin{definition}[Decision LWE]
Let $\mathscr{L}$ be a lattice, $B$ a basis for $\mathscr{L}$, $\chi[\mathbb{Z}_q^n]$ a Discrete Gaussian Distribution, and $\mathbf{s}\in\mathbb{Z}_q^n$. Given two pairs $(A, As^t+e^t)$ and $(A,b^t)$, where $e\xleftarrow{\$}\chi[\mathbb{Z}_q^n]$ and $\mathbf{b}\xleftarrow{\$}U[\mathbb{Z}_q^n]$, distinguish the pair generated with the noisy product from the one sampled from the uniform distribution.
\end{definition}

%         Problema dell'LWE [pqc]

%                 Introduzione
%                 Presentazione del problema dell'lwe

%                         Distribuzione di errore
%                         Encoding/decoding

%                 Algoritmi (fft, fast decoding)
%                 Problematiche (rappresentazione richiede O(n^2) e la chiave vive in Zq^n)

\section{The RLWE problem}
%         Problema dell'RLWE [RLWE_security, RLWE_toolkit]

%                 Presentazione del problema dell'RLWE
%                 Problemi risolti dal'uso della struttura di anello:
%                 - Rappresentazione ora richiede solo O(n)
%                 - La chiave vive in Rq (1/n dello spazio)
%                 - Decoding più veloce

%         Prova di sicurezza [pqc, RLWE_security]

%                 Presentazione di SVP e SIS
%                 Riduzione di SVP e SIS a RLWE e LWE 
%                 [RLWE_security per SVP -> search-RLWE -> decisional RLWE]
%                 [SVP -> BDD -> LWE]